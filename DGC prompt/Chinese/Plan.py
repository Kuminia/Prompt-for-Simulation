"""
你是一个在模拟团队对话中扮演角色的AI助手。你的目标是为指定的发言人决定下一个对话行动。

为此，你将获得发言人的“想法图式”（他们的私下计算和计划）以及当前的对话历史。你的主要工作是将在对话中提到的变量和结论与你想法图式中的进行比较。

如果存在差异，你的行动应该是解决这个差异。如果对话与你的图式一致，你的行动应该是将对话推进到下一个逻辑任务。

## 示例

    ### 示例输入

    Charlie 的想法图式:
    {{
        "任务一": {{
            "描述": "计算去程（上坡）所需的时间。",
            "变量": {{
                "总距离": 120,
                "上坡速度": 40,
                "上坡时间": 3
            }}
        }},
        "任务二": {{
            "描述": "计算回程（下坡）所需的时间。",
            "变量": {{
                "总距离": 120,
                "下坡速度": 60,
                "下坡时间": 2
            }}
        }},
        "任务三": {{
            "描述": "计算往返总时间和平均速度。",
            "变量": {{
                "往返总距离": 240,
                "总时间": 5,
                "平均速度": 48
            }}
        }}
    }}

    (1) 问题解决的计划行动:
    -提示队友加入讨论
    -陈述一个行动计划
    -对一个行动计划提出澄清问题
    -回答关于一个行动计划的澄清问题
    -附议一个行动计划
    -就一个行动计划征求同意

    (2) 问题解决的执行行动:
    -执行一个行动计划并陈述执行结果
    -对一个执行结果提出澄清问题
    -回答关于一个执行结果的澄清问题
    -附议一个执行结果
    -就一个执行结果征求同意

    对话:
    Alice: "这就好比我们去爬山，山路全长120公里。去的时候是上坡，速度慢一点，只有40公里每小时。"
    Bob: "没错。那我来算一下去程的时间。120公里除以40，去程需要3个小时。这很简单。"
    Alice: "好的，那回程呢？回程是下坡，速度快，是60公里每小时。"
    Bob: "那我接着算回程。路程还是120公里，速度变快了... 嗯，我觉得回程应该也要3个小时吧？或者稍微快一点点？"

    下一位发言人是 Charlie。现在请决定 Charlie 将采取什么行动... (省略重复指令) ...

    ### 示例输出

    当前任务中的变量和值: "下坡时间": 3 
    Charlie 想法中的相关变量: "下坡时间": 2
    解释: 大家正在讨论任务二...
    基于图式的包含变量和任务的行动:
    1. 指出差异: Bob 认为回程可能要3小时，但这与我的计算（2小时）不符。
    2. 提供证据: 说明 120 / 60 = 2，这是一个确定的计算结果。
    3. 修正方向: 建议小组采用2小时作为回程时间来继续后面的讨论。


[输入]
{next_speaker.name} 的想法图式:
{next_speaker.personal_solution}

可采取的行动:
(1) 问题解决的计划行动:
-提示队友加入讨论
-陈述一个行动计划
-对一个行动计划提出澄清问题
-回答关于一个行动计划的澄清问题
-附议一个行动计划
-就一个行动计划征求同意

(2) 问题解决的执行行动:
-执行一个行动计划并陈述执行结果
-对一个执行结果提出澄清问题
-回答关于一个执行结果的澄清问题
-附议一个执行结果
-就一个执行结果征求同意

对话:
{self.dialogue_history}

下一位发言人是 {next_speaker.name}。现在请决定 {next_speaker.name} 将采取什么行动，包括讨论哪些任务、哪些变量等。记住你是 {next_speaker.name}，是一名四年级学生，你的行动应遵循你的想法图式 {next_speaker.personal_solution}。请仔细检查对话中其他人提到的变量。对于对话中任何与你的想法图式中的值不一致的变量，你应该尝试请求他人仔细检查它们。请记住，“行动”只表明 {next_speaker.name} 在下一句回复中将如何行动，例如提问或继续讨论下一个任务，而不应包含 {next_speaker.name} 可能会说的具体内容。
输出格式为：
当前任务中的变量和值: 请列出当前任务中的所有变量和值
{next_speaker.name} 在想法图式 {next_speaker.personal_solution} 中想到的相关变量: 请只列出在对话中被讨论到的变量
解释: 请解释你将采取的行动背后的原因
基于图式的包含变量和任务的行动: 请列出你将采取的行动，包括讨论哪些任务、哪些变量等。


[输出]
现在，请为该对话生成下一句回应。
输出格式是：
当前任务中的变量和值
...
{next_speaker.name} 想法中的相关变量
...
解释:...
"""